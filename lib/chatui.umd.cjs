(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c.chatui={},c.Vue))})(this,function(c,e){"use strict";const h=e.defineComponent({__name:"CuButton",props:{label:{},primary:{type:Boolean,default:!1},size:{},backgroundColor:{}},emits:["click"],setup(a,{emit:t}){const l=a,o=t,u=e.computed(()=>({"cu-button":!0,"cu-button--primary":l.primary,"cu-button--secondary":!l.primary,[`cu-button--${l.size||"medium"}`]:!0})),r=e.computed(()=>({backgroundColor:l.backgroundColor})),i=()=>{o("click",1)};return(p,n)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:e.normalizeClass(u.value),onClick:i,style:e.normalizeStyle(r.value)},e.toDisplayString(p.label),7))}});h.install=a=>(a.component("CuButton",h),a);const B=["src","srcset","alt"],z={key:1,class:"avatar-icon"},y=e.defineComponent({__name:"CuAvatar",props:{src:{default:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},srcSet:{},alt:{default:""},icon:{},size:{default:"default"},shape:{default:"circle"},fit:{default:"cover"}},setup(a){const t=a,l=e.ref(!1),o=e.computed(()=>{const n={"cu-avatar":!0,[`cu-avatar--${t.size}`]:typeof t.size=="string",[`cu-avatar--${t.shape}`]:!0,"cu-avatar--icon":!!t.icon};return console.log(n),n}),u=e.computed(()=>{let n;const m=parseInt(t.size);return isNaN(m)?typeof t.size=="string"?n=r(t.size):n="50px":n=`${m}px`,{width:n,height:n,objectFit:t.fit}}),r=n=>{switch(n){case"small":return"30px";case"default":return"50px";case"large":return"70px";default:return"50px"}},i=e.computed(()=>({objectFit:t.fit}));e.watch(()=>t.src,()=>l.value=!1);const p=()=>{l.value=!0};return(n,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cu-avatar",o.value]),style:e.normalizeStyle(u.value)},[n.src&&!l.value?(e.openBlock(),e.createElementBlock("img",{key:0,src:n.src,srcset:n.srcSet,alt:n.alt,style:e.normalizeStyle(i.value),onError:p},null,44,B)):n.icon?(e.openBlock(),e.createElementBlock("div",z,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.icon)))])):e.renderSlot(n.$slots,"default",{key:2})],6))}});y.install=a=>(a.component("CuAvatar",y),a);const g=e.defineComponent({__name:"CuMessage",props:{type:{default:"sent"},content:{default:""},textAlign:{default:"start"},sentBorderRadius:{default:"26px 6px 26px 26px"},receivedBorderRadius:{default:"6px 26px 26px 26px"}},setup(a){const t=a,l=e.computed(()=>({"cu-message--sent":t.type==="sent","cu-message--received":t.type==="received"})),o=e.computed(()=>({textAlign:t.textAlign,borderRadius:t.type==="sent"?t.sentBorderRadius:t.receivedBorderRadius}));return(u,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cu-message",l.value]),style:e.normalizeStyle(o.value)},[e.renderSlot(u.$slots,"default")],6))}});g.install=a=>(a.component("CuMessage",g),a);const x=["disabled","readonly","placeholder","maxlength"],S={key:0,class:"word-limit"},k=20,C=e.defineComponent({__name:"CuInput",props:{placeholder:{default:"Please input"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxLength:{default:0},customStyle:{default:()=>({})},autosize:{default:void 0}},emits:["update:modelValue","input","focus","blur","change"],setup(a,{emit:t}){const l={borderRadius:"10px",padding:"10px"},o=a,u=e.computed(()=>({...l,...o.customStyle})),r=t,i=e.ref(null),p=e.computed(()=>["cu-input-container",{"is-disabled":o.disabled,"is-readonly":o.readonly}]),n=e.computed(()=>["cu-textarea"]),m=e.computed(()=>o.maxLength>0),b=e.ref(0),f=()=>{const s=i.value;if(!s||!o.autosize)return;const d=o.autosize,T=d.minRows||1,V=d.maxRows||1/0;s.style.height="auto";const A=Math.min(Math.max(s.scrollHeight,T*k),V*k);s.style.height=`${A}px`};e.watch(()=>o.placeholder,f),e.watch(()=>o.autosize,f);const w=s=>{if(!i.value)return;const d=i.value.value;b.value=d.length,f(),r("input",d),r("update:modelValue",d)},L=s=>{r("focus",s)},R=s=>{r("blur",s)},M=s=>{r("change",s)};return e.onMounted(()=>{e.nextTick(()=>f())}),e.watch(()=>o.placeholder,f),(s,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cu-input-container",p.value])},[e.createElementVNode("textarea",e.mergeProps({ref_key:"textarea",ref:i,class:n.value},s.$attrs,{disabled:s.disabled,readonly:s.readonly,placeholder:s.placeholder,style:u.value,onInput:w,onFocus:L,onBlur:R,onChange:M,maxlength:s.maxLength}),null,16,x),m.value?(e.openBlock(),e.createElementBlock("span",S,e.toDisplayString(b.value)+" / "+e.toDisplayString(s.maxLength),1)):e.createCommentVNode("",!0)],2))}});C.install=a=>(a.component("CuInput",C),a);const _=[h,y,g,C];function E(a){const t=document.documentElement;a==="dark"?(t.classList.add("theme-dark"),t.classList.remove("theme-light")):(t.classList.add("theme-light"),t.classList.remove("theme-dark"))}const $={install:(a,t={})=>{const l=t.defaultTheme||"light";E(l),_.forEach(o=>{a.use(o)})}};c.CuAvatar=y,c.CuButton=h,c.CuInput=C,c.CuMessage=g,c.default=$,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
